!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dist/",o(o.s=2)}([function(t,e,o){},function(t,e){},function(t,e,o){"use strict";o.r(e);o(0);function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,o,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=e,this.board=o,this.position=n,this.status=!1,this.movePosition=this.movePosition.bind(this)}var e,o,r;return e=t,(o=[{key:"movePosition",value:function(t){this.position=[t[0],t[1]]}},{key:"validMoves",value:function(){}},{key:"isMovedIntoCheck",value:function(t){}}])&&n(e.prototype,o),r&&n(e,r),t}();function i(t,e,o){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=[e[0]+i[0],e[1]+i[1]];o.isValidPosition(s,o.rows[e[0]][e[1]].color)&&n.push(s)}return n}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,o,n){var r,i,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(r=!(u=c(e).call(this,t,o,n))||"object"!==s(u)&&"function"!=typeof u?a(i):u).status=!0,r.moveDirections=r.moveDirections.bind(a(r)),r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/kw.svg":"./assets/kb.svg"}},{key:"moveDirections",value:function(){return i([[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]],this.position,this.board)}}])&&u(o.prototype,n),r&&u(o,r),e}(r);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t,o,n){var r,i,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(r=!(s=y(e).call(this,t,o,n))||"object"!==h(s)&&"function"!=typeof s?b(i):s).status=!1,r.moveDirections=r.moveDirections.bind(b(r)),r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/nw.svg":"./assets/nb.svg"}},{key:"moveDirections",value:function(){return i([[1,2],[2,1],[1,-2],[2,-1],[-1,2],[-2,1],[-1,-2],[-2,-1]],this.position,this.board)}}])&&p(o.prototype,n),r&&p(o,r),e}(r),m=[[1,0],[0,1],[-1,0],[0,-1]],d=[[1,1],[1,-1],[-1,-1],[-1,1]];function g(t,e,o){for(var n=[],r=0;r<t.length;r++)n=k(n,O(t[r][0],t[r][1],e,o));return n}function O(t,e,o,n){var r=[],i=!1,s=o;for(s=[s[0]+t,s[1]+e];n.isValidPosition(s,n.rows[o[0]][o[1]].color)&&("white"!==n.rows[s[0]][s[1]].color&&"black"!==n.rows[s[0]][s[1]].color||(i=!0),r.push(s),s=[s[0]+t,s[1]+e],!i););return r}function k(t,e){for(var o=0;o<e.length;o++)t.push(e[o]);return t}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.freeze(m),Object.freeze(d);var D=function(t){function e(t,o,n){var r,i,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(r=!(s=j(e).call(this,t,o,n))||"object"!==P(s)&&"function"!=typeof s?S(i):s).status=!1,r.moveDirections=r.moveDirections.bind(S(r)),r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/qw.svg":"./assets/qb.svg"}},{key:"moveDirections",value:function(){return g(m.concat(d),this.position,this.board)}}])&&_(o.prototype,n),r&&_(o,r),e}(r);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(t){function e(t,o,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=x(this,M(e).call(this,t,o,n))).status=!0,r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/rw.svg":"./assets/rb.svg"}},{key:"moveDirections",value:function(){return g(m,this.position,this.board)}}])&&C(o.prototype,n),r&&C(o,r),e}(r);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t,o,n){var r,i,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(r=!(s=q(e).call(this,t,o,n))||"object"!==K(s)&&"function"!=typeof s?z(i):s).status=!1,r.symbol=r.symbol.bind(z(r)),r.moveDirections=r.moveDirections.bind(z(r)),r.moves=g.bind(z(r)),r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/bw.svg":"./assets/bb.svg"}},{key:"moveDirections",value:function(){return g(d,this.position,this.board)}}])&&V(o.prototype,n),r&&V(o,r),e}(r);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(t){function e(t,o,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=I(this,F(e).call(this,t,o,n))).moves=[],r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"./assets/empty.png"}},{key:"moveDirections",value:function(){return[]}}])&&H(o.prototype,n),r&&H(o,r),e}(r);Object.freeze(J);var Q=J;function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(t,o,n){var r,i,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(r=!(s=X(e).call(this,t,o,n))||"object"!==U(s)&&"function"!=typeof s?Y(i):s).status=!1,r.moveDirections=r.moveDirections.bind(Y(r)),r.direction=r.direction.bind(Y(r)),r.atStart=r.atStart.bind(Y(r)),r.allMoves=r.allMoves.bind(Y(r)),r.forwardDirections=r.forwardDirections.bind(Y(r)),r.forwardSteps=r.forwardSteps.bind(Y(r)),r.sideSteps=r.sideSteps.bind(Y(r)),r}var o,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),o=e,(n=[{key:"symbol",value:function(){return"white"===this.color?"./assets/pw.svg":"./assets/pb.svg"}},{key:"moveDirections",value:function(){var t=[];this.forwardDirections().length>0&&(t.push(this.forwardDirections()),t.length>0&&this.atStart()&&t.push([this.direction()+this.forwardDirections()[0],this.forwardDirections()[1]]));for(var e=this.sideSteps(),o=0;o<e.length;o++)t.push(e[o]);return t}},{key:"direction",value:function(){return"white"===this.color?-1:1}},{key:"atStart",value:function(){return("white"===this.color?6:1)===this.position[0]}},{key:"allMoves",value:function(){}},{key:"forwardDirections",value:function(){var t=this.direction()+this.position[0],e=[];return t>=0&&t<8?(e=[this.direction()+this.position[0],this.position[1]],"null"===this.board.rows[e[0]][e[1]].color?e:[]):[]}},{key:"forwardSteps",value:function(){var t=[this.position[0],this.position[1]+this.forwardDirections()],e=[this.position[0]+2*this.forwardDirections(),this.position[1]],o=[];return this.board.isEmpty(t)&&this.board.isEmpty(t)&&(o.push(t),this.board.isEmpty(e)&&this.board.isEmpty(e)&&this.atStart()&&o.push(e)),o}},{key:"sideSteps",value:function(){var t="white"===this.color?"black":"white",e=[this.direction()+this.position[0],this.position[1]],o=[],n=[],r=e[1]-1,i=e[1]+1;r>=0&&r<8&&n.push([e[0],r]),i>=0&&i<8&&n.push([e[0],i]);for(var s=0;s<n.length;s++){var u=n[s];this.board.isOnBoard(u)&&this.board.rows[u[0]][u[1]].color===t&&o.push(u)}return o}}])&&W(o.prototype,n),r&&W(o,r),e}(r);o(1);function tt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rows=[],this.currentPlayer="white";for(var e=0;e<8;e++){this.rows[e]=[];for(var o=0;o<8;o++)this.rows[e][o]=new Q("null",this,[e,o])}this.populateBoard=this.populateBoard.bind(this),this.isEmpty=this.isEmpty.bind(this),this.movePiece=this.movePiece.bind(this),this.findKing=this.findKing.bind(this),this.check=this.check.bind(this),this.checkmate=this.checkmate.bind(this),this.isValidPosition=this.isValidPosition.bind(this),this.position=this.position.bind(this),this.includesPosition=this.includesPosition.bind(this),this.changeCurrentPlayer=this.changeCurrentPlayer.bind(this),this.promotion=this.promotion.bind(this),this.populateBoard()}var e,o,n;return e=t,(o=[{key:"populateBoard",value:function(){for(var t=["black","white"],e=0;e<this.rows.length;e++)for(var o=0;o<this.rows[e].length;o++){var n=[e,o];if(0===e||7===e){var r=this.backRow(o);this.rows[n[0]][n[1]]=new r(t[e%2],this,n)}else 1!==e&&6!==e||(this.rows[n[0]][n[1]]=new $(t[(e+1)%2],this,n))}}},{key:"backRow",value:function(t){return[R,w,A,D,l,A,w,R][t]}},{key:"isEmpty",value:function(t){return this.isOnBoard()&&"null"===this.rows[t[0]][t[1]].color}},{key:"movePiece",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=this.rows[t[0]][t[1]];o.color===this.currentPlayer&&this.includesPosition(o.moveDirections(),e)&&(this.rows[e[0]][e[1]]=o,this.rows[t[0]][t[1]]=new Q("null",this,t),this.changeCurrentPlayer(),this.rows[e[0]][e[1]].movePosition(e)),console.log(this.checkmate("black"))}},{key:"findKing",value:function(t){for(var e="white"===t?"./assets/kw.svg":"./assets/kb.svg",o=0;o<8;o++)for(var n=0;n<8;n++)if(this.rows[o][n].symbol()==e&&this.rows[o][n].color==t)return[o,n]}},{key:"check",value:function(t){for(var e=this.findKing(t),o="white"==t?"black":"white",n=0;n<8;n++)for(var r=0;r<8;r++)if(this.rows[n][r].color==o&&this.includesPosition(this.rows[n][r].moveDirections(),e))return!0;return!1}},{key:"checkmate",value:function(t){if(this.findKing(t),!this.check(t))return!1;for(var e=0;e<8;e++)for(var o=0;o<8;o++)if(this.rows[e][o].color==t)for(var n=this.rows[e][o],r=n.moveDirections(),i=0;i<r.length;){var s=r[i][0],u=r[i][1],c=this.rows[s][u];if(this.rows[s][u]=n,this.rows[e][o]=new Q("null",this,[e,o]),!this.check(t))return this.rows[e][o]=n,this.rows[s][u]=c,!1;this.rows[e][o]=n,this.rows[s][u]=c,i+=1}return!0}},{key:"isOnBoard",value:function(t){return t[0]<8&&t[0]>=0&&t[1]<8&&t[1]>=0}},{key:"isValidPosition",value:function(t,e){return this.isOnBoard(t)&&this.rows[t[0]][t[1]].color!==e}},{key:"promotion",value:function(t,e){var o=this.rows[t[0]][t[1]];this.rows[t[0]][t[1]]=new e(o.color,this,o.position)}},{key:"position",value:function(t){this.rows[t]}},{key:"includesPosition",value:function(t,e){for(var o=0;o<t.length;o++)if(this.areEqualArrays(t[o],e))return!0;return!1}},{key:"areEqualArrays",value:function(t,e){for(var o=e.length,n=0;n<t.length;n++)t[n]==e[n]&&(o-=1);return 0===o}},{key:"changeCurrentPlayer",value:function(){this.currentPlayer="white"===this.currentPlayer?"black":"white"}}])&&tt(e.prototype,o),n&&tt(e,n),t}();document.addEventListener("DOMContentLoaded",(function t(){var e=document.getElementsByClassName("chess")[0];var o=function(o){for(var n=function(n){var r=document.createElement("img");r.className=(o+n)%2==0?"black":"white",r.id="".concat(o).concat(n),r.src=ot.rows[o][n].symbol(),e.appendChild(r),r.onclick=function(r){r.preventDefault;var i=[o,n];if(0===nt.length)nt.push(i);else{ot.movePiece(nt[0],i);var s=ot.rows[i[0]][i[1]];s instanceof $&&(0===i[0]||7===i[0])&&(s=ot.promotion(i,D)),nt=[],e.innerHTML="",t()}}},r=0;r<8;r++)n(r)};for(var n=0;n<8;n++)o(n)}));var ot=new et,nt=[]}]);
//# sourceMappingURL=main.js.map